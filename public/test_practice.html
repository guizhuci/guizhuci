<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>测试专项练习API</title>
</head>
<body>
  <h1>测试专项练习API</h1>
  <div id="result"></div>

  <script>
    // 设置测试用户ID
    localStorage.setItem('userId', '1');

    // 测试获取科目列表
    fetch('/api/subjects?category=single_recruitment')
      .then(res => res.json())
      .then(data => {
        console.log('科目列表:', data);
        if (data.success && data.subjects.length > 0) {
          const subject = data.subjects[0];
          console.log('测试科目:', subject);

          // 测试获取题目
          return fetch(`/api/practice/questions?subjectId=${subject.id}&userId=1`);
        }
      })
      .then(res => res.json())
      .then(data => {
        console.log('题目列表:', data);
        document.getElementById('result').innerHTML = `
          <h2>测试结果</h2>
          <pre>${JSON.stringify(data, null, 2)}</pre>
        `;
      })
      .catch(error => {
        console.error('测试失败:', error);
        document.getElementById('result').innerHTML = `
          <h2>测试失败</h2>
          <pre>${error.message}</pre>
        `;
      });
  </script>
</body>
</html>
